---
layout: default
title: [読書録] 絵で見てわかるoracleの仕組み
---

# [読書録] 絵で見てわかるoracleの仕組み

> ## 第1章　I/Oとディスクの関係
> 
> - Oracleを理解するための必須キーワード
> - Oracleとディスク（ハードディスク）
> - ディスクの動作
> - データを保証するためのディスク
> - 第1章のまとめ

### メモリに対するアクセス
電気信号で処理される。  
速い。nsec(ナノ秒)単位。  

### ディスクに対するアクセス
機械動作が入る。シーク+回転待ち+ディスクの転送。  
遅い。msec(ミリ秒)単位。  

### シーケンシャルアクセス
先頭から間を抜かずにアクセスすること。逐次。  
フルスキャンの際に、メモリにデータがないと発生。  

### ランダムアクセス
目的のデータがある場所に直接アクセスすること。  
インデックスを使って処理する場合、必要な箇所だけ読めば十分だが、  
ディスク上で必要な箇所が連続していることはほとんどない。
そのため、ヘッドを動かしながら、飛び飛びにアクセスすることになる。   

> ## 第2章　Oracleのさまざまなプロセス
> 
> - 本書におけるOracleのイメージ
> - データベースのデータはみんなのもの
> - Oracleが複数のプロセスで成り立つ理由
> - サーバープロセスとバックグラウンドプロセスの役割
> - 各プロセスが行なう処理
> - 第2章のまとめ

### サーバプロセス
Oracleクライアントに直接サービスを行うプロセスのこと。倉庫業者Oracleのお客様担当。  
SQL文の結果をできるだけ速く返すように仕事をする。(顧客を最優先して考える営業担当者のイメージ)  
ディスクからデータを読み込むが、書き込みはしない。  

### バックグラウンドプロセス
クライアントに対して直接サービスを行うことのないプロセスのこと。  
サーバプロセスを助ける仕事をする。（裏方のイメージ）  
データベースライター、ログライター、ピーモン、アーカイバなど。  

> ## 第3章　キャッシュと共有メモリ
> 
> - なぜ、キャッシュが必要なのか
> - そもそもキャッシュって何？
> - データはブロック単位で管理する
> - キャッシュの利用でインデックス検索が効率的に
> - プロセスはキャッシュを共有する
> - 共有メモリに必要な設定
> - 共有メモリはどんな風に見える？
> - バッファキャッシュを掃除するLRUアルゴリズム
> - OracleだけでなくOSやストレージについても考えよう
> - 第3章のまとめ

> ## 第4章　SQL文解析と共有プール
> 
> - なぜ、SQL文の解析と共有プールを学ぶのか
> - SQL文と一般的なプログラミング言語の違い
> - サーバープロセスと解析
> - 最適な実行計画を判断するには
> - 共有プールの動作と仕組み
> - 数値で見る解析と共有プールの情報
> - 第4章のまとめ

> ## 第5章　Oracleの起動と停止
> 
> - なぜ、起動と停止を学ぶのか
> - Oracleの起動/停止の概要
> - 業務の開始に相当するOracleの起動
> - インスタンスとデータベースと主要ファイルの構成
> - 起動処理の流れと内部動作
> - 業務の終了に相当するOracleの停止
> - 手作業でのデータベース作成
> - 第5章のまとめ

> ## 第6章　接続とサーバープロセスの生成
> 
> - なぜ、アプリケーションからの接続を学ぶのか
> - Oracleの接続動作
> - 接続動作の確認
> - 停止やリスナーの状態確認
> - 性能を改善するには
> - 第6章のまとめ

> ## 第7章　Oracleのデータ構造
> 
> - なぜ、Oracleのデータ構造を学ぶのか
> - 可変長のデータを管理するためのプログラムを作るには
> - Oracleのデータ構造
> - 各データ構造はどのようなものなのか
> - 実際の流れに沿って各動作を確認しよう
> - プロセスから見たデータ構造
> - 第7章のまとめ

> ## 第8章　Oracleの待機とロック
> 
> - なぜ、待機やOracleのロックを学ぶのか
> - データベースにロックが必要な理由
> - 待機とロック待ち
> - ラッチの仕組み
> - 第8章のまとめ

> ## 第9章　REDOとUNDOの動作
> 
> - なぜ、REDOとUNDOを学ぶのか
> - 持続性を実現するには
> - REDOとUNDOの概念
> - REDOのアーキテクチャ
> - UNDOのアーキテクチャ
> - さまざまな状況におけるREDOとUNDOの動作
> - 第9章のまとめ

> ## 第10章　バックアップ/リカバリのアーキテクチャと動作
> 
> - なぜ、バックアップ/リカバリを学ぶのか
> - バックアップ/リカバリに必要な知識のおさらい
> - バックアップの種類と特徴
> - データベース破壊の例
> - 基本的なリカバリの種類と動作
> - 基本的なリカバリの流れ（データベース全体のリカバリ）
> - その他のリカバリ
> - 第10章のまとめ

> ## 第11章　バックグラウンドプロセスの動作と役割
> 
> - なぜ、バックグラウンドプロセスを学ぶのか
> - バックグラウンドプロセスとサーバープロセスの関係
> - DBWR（DBW）の動作と役割
> - LGWRの動作と役割
> - PMON（ピーモン）の動作と役割
> - SMON（エスモン）の動作と役割
> - アーカイバ（ARCH）の動作と役割
> - そのほかのバックグラウンドプロセス
> - 第11章のまとめ

> ## 第12章　Oracleのアーキテクチャや動作に関するQ＆A
> 
> - 前章までのおさらい
> - Oracleの動作に関する質問
> - 監視/運用に関する質問
> - 解答と解説：Oracleの動作に関する質問
> - 解答と解説：監視/運用に関する質問
> - まとめ

> ## Column
> 
> - 「シーケンシャル」とはどんな意味？
> - DBMSを使うアプリケーションについて
> - 「プロセス」と「スレッド」って何？
> - リソースがもったいないという考え
> - 最近のバッファキャッシュサイズの考え方
> - 「セマフォ」って何？
> - 現場では4章の知識をどう使うのか？
> - 制御ファイルの重要性
> - 強制的に接続を切るコマンド
> - 「scott」と「tiger」のトリビア
> - RMANって何？
> - バックアップ/リカバリでよくある失敗
> - アーカイブログはデフォルトで必須！
